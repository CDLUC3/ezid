{% extends "layouts/base.html" %}
{% load metadata_tags %}
{% load layout_extras %}
{% load i18n %}

{% block title %}EZID Home{% endblock %}
{% block description %}{%trans "EZID service creates long-term identifiers and is a key component for keeping data and digital objects safe while fulfilling grant requirements for data management plans." %}{% endblock %}
{% block javascript %}
  var imageURLs = [
    'homeHero_01.jpg', 'homeHero_02.jpg', 'homeHero_03.jpg', 'homeHero_04.jpg',
    'homeHero_05.jpg', 'homeHero_06.jpg', 'homeHero_07.jpg', 'homeHero_08.jpg',
    'homeHero_09.jpg'
  ];
  function getImageTag() {
    var img = '/static/images/';
    var randomIndex = Math.floor(Math.random() * imageURLs.length);
    img += imageURLs[randomIndex];
    return img;
  }
{% endblock %}
{% block content %}
    <!-- Home Banner -->
    <div class="home-banner">
      <div class="home-banner__lead">
        <p class="home-banner__lead-text">Create and manage long-term globally unique IDs for data and other sources using EZID</p>
        <a href="" class="home-banner__lead-button">Learn More</a>
      </div>
    </div>

    <div class="home__identifier-container">

      <div class="home__identifier-lead-box">
        <p class="home__identifier-lead-heading">See how easy it is:</p>
        <p class="home__identifier-lead-note"><b>NOTE:</b> This is just a demo. To create a real identifier, you must have an account.</p>
      </div>

      <div class="home__identifier-form">
        <div class="frontpage_idcreate_arrow"></div>
        <form id="create_form" action="{% url "ui_home.index" %}" method="post" class="form-horizontal" role="form">
        <input type="hidden" name="current_profile" id="current_profile" value="{{current_profile.name}}" />

        <div class="fieldset-inline" role="group" aria-labelledby="fieldset__example2">

          <span id="fieldset__example2" class="fieldset-inline__legend-number-1">Choose an identifier type</span>
          
          <label for="fcontrol__example-label8" class="fcontrol__radio-label-inline">
            <input id="fcontrol__example-label8" class="fcontrol__radio-button-stacked" type="radio" value="" name="name2" checked> <span>ARK</span>
          </label>

          <label for="fcontrol__example-label9" class="fcontrol__radio-label-inline">
            <input id="fcontrol__example-label9" class="fcontrol__radio-button-stacked" type="radio" value="" name="name2"> <span>DOI</span>
          </label>

        </div>

        <div class="fieldset-stacked fieldset__top-border home__fieldset" role="group" aria-labelledby="fieldset__example1">

          <div id="fieldset__example1" class="fieldset-stacked__legend-number-2">Describe the identified object</div>

          <div class="row">
          
            <div class="col-md-5 home__text-field">
              <div class="fcontrol__group-stacked">
                <label for="fcontrol__example-label3" class="fcontrol__text-label-hidden">Location (URL)</label>
                <input id="fcontrol__example-label3" class="fcontrol__text-field-stacked" type="text" placeholder="Location (URL) (required)" required>
                <span class="fcontrol__invalid-flag">Error message</span>
              </div>
            </div>

            <div class="col-md-5 home__text-field">
              <div class="fcontrol__group-stacked">
                <label for="fcontrol__example-label3" class="fcontrol__text-label-hidden">Who?</label>
                <input id="fcontrol__example-label3" class="fcontrol__text-field-stacked" type="text" placeholder="Who? (required)" required>
                <span class="fcontrol__invalid-flag">Error message</span>
              </div>
            </div>

          </div>

          <div class="row">

            <div class="col-md-5 home__text-field">
              <div class="fcontrol__group-stacked">
                <label for="fcontrol__example-label3" class="fcontrol__text-label-hidden">What?</label>
                <input id="fcontrol__example-label3" class="fcontrol__text-field-stacked" type="text" placeholder="What? (required)" required>
                <span class="fcontrol__invalid-flag">Error message</span>
              </div>
            </div>

            <div class="col-md-5 home__text-field">
              <div class="fcontrol__group-stacked">
                <label for="fcontrol__example-label3" class="fcontrol__text-label-hidden">When</label>
                <input id="fcontrol__example-label3" class="fcontrol__text-field-stacked" type="text" placeholder="When? (required)" required>
                <span class="fcontrol__invalid-flag">Error message</span>
              </div>
            </div>

            <div class="col-md-2 home__create-button">
              <button class="home__button-primary">Create</button>
            </div>

          </div>
        </div>
        </form>
      </div>

    </div>
    <script type="text/javascript">
      // Load random hero image
      var rImg = "url(" + getImageTag() + ")";
      $(".home-banner").css({"backgroundImage": rImg});

      // Load different fields depending on ID type
      $(document).ready(function () {
        toggleIdFields();
        //Whenever ID type changes
        $(".id_type_button").change(function () {
          toggleIdFields();
        });
      });
      function toggleIdFields() {
        if ($("#ark\\:\\/99999\\/fk4").is(':checked')) {
          $("#home_demo_ark").show();
          $("#home_demo_doi").hide();
        } else {
          $("#home_demo_ark").hide();
          $("#home_demo_doi").show();
        }
      }
    </script>
    
    <script type="text/javascript" src="/static/javascripts/simple_create.js"></script>
    {% include "info/popup_help.html" %}
    <script type="text/javascript" src="/static/javascripts/help_box.js"></script>
{% endblock %}
