{% load layout_extras %}
{% load i18n %}

{{ form.creator_set.management_form }}
<div class="fieldset-stacked fieldset__top-border" role="group" aria-labelledby="creators-creator">
  <div class="fieldset-controls__container">
    <div id="creators-creator" class="fieldset-controls__legend create__nested-legend">{% trans "Creator" %}</div>
    <div class="fieldset-controls__buttons">
      <button class="button__plus">
        <span class="button__text">{% trans "Add" %}</span>
      </button>
      <button class="button__minus">
        <span class="button__text">{% trans "Remove" %}</span>
      </button>
    </div>
  </div>
{% for form in form.creator_set %}
{{ form.non_field_errors }}
  {% for field in form %}
  {% if forloop.first %}
  <div class="fcontrol__group-inline{% if field.errors %}--invalid{% endif %} create__form-element-group">
    <label for="{{ field.id_for_label }}" class="fcontrol__text-label-inline create__label-advanced">{{ field.label }}</label>
    {{ field|add_attributes:"fcontrol__text-field-inline"}}
    {% if field.errors %}
      <span class="fcontrol__invalid-flag">
      {% for error in field.errors %}
        {{ error|escape }}
      {% endfor %}
      </span>
    {% endif %}
  </div>
  <details id="accordion__section-1" class="accordion__section create__accordion-section">
    <summary class="accordion__title create__accordion-title">{% trans "More Fields" %}</summary>
  {% else %}
    <div class="fcontrol__group-inline{% if field.errors %}--invalid{% endif %} create__form-element-group">
      <label for="{{ field.id_for_label }}" class="fcontrol__text-label-inline create__label-advanced--in-accordion">{{ field.label }}</label>
      {{ field|add_attributes:"fcontrol__text-field-inline"}}
      {% if field.errors %}
        <span class="fcontrol__invalid-flag">
        {% for error in field.errors %}
          {{ error|escape }}
        {% endfor %}
        </span>
      {% endif %}
    </div>
  {% endif %}
  {% endfor %}
  </details>
{% endfor %}
</div>
