{% extends "layouts/base.html" %}
{% load layout_extras %}
{% load i18n %}

{% block title %}{%trans "My Account" %}{% endblock %}
{% block heading %}{% content_heading _("My Account") %}{% endblock %}
{% block content %}

<p class="general__note">{% trans "To edit your account information, proxy users, or account password, make changes in the fields below, then click Save." %}</p>

<form autocomplete="off" id="edit_form" action="{% url "ui_account.edit" %}" method="post" class="general__form" role="form">
{% comment "nonfield_errors" %}form.non_field_errors not used here, and will be displayed in django.contrib.messages.error{% endcomment %}
  <h2 class="heading_2_caps vertical-buffer-xs">{% trans "Account Information" %}</h2>
 
  <div class="fcontrol__group-inline general__form-element-group">
    <label for="account_username" class="fcontrol__text-label-inline general__form-label">{% trans "Username" %}</label>
    <div class="fcontrol__text-nofield">{{ username }}</div>
  </div>
 
  {% include "includes/_inlinetext.html" with field=form.givenName form_name="general__" %}
  {% include "includes/_inlinetext.html" with field=form.sn form_name="general__" %}
  {% include "includes/_inlinetext.html" with field=form.mail form_name="general__" %}
  {% include "includes/_inlinetext.html" with field=form.telephoneNumber form_name="general__" %}
 
  <div class="fcontrol__group-inline general__form-element-group">
    <label for="account_username" class="fcontrol__textarea-label-inline general__form-label">{% trans "Your Proxy Account(s)" %}</label>
    <div class="fcontrol__text-nofield">
    UCI, ******* PLACEHOLDER ******
    
      <div class="fcontrol__caption">{% trans "NOTE: These are identifier groups where you have been designated as proxy user." %}</div>
    </div>
  </div>

  <div class="fcontrol__group-inline">
    <label for="{{ form.ezidCoOwners.id_for_label }}" class="fcontrol__textarea-label-inline general__form-label">{{ form.ezidCoOwners.label }}</label>
    <div class="fcontrol__text-field-group">
      {{ form.ezidCoOwners|add_attributes:"readonly:true,class=fcontrol__text-field-inline"}}
      {% if form.ezidCoOwners.errors %}
      <span class="fcontrol__invalid-flag">
        {% for error in form.ezidCoOwners.errors %}
          {{ error|escape }}<br/>
        {% endfor %}
      </span>
      {% endif %}
      <div class="fcontrol__textarea-caption">{%trans "NOTE: Use commas to separate multiple entries." %}</div>
    </div>
    <button class="home__button-primary" data-toggle="modal" data-target="#proxyModal" type="button">{% trans "Select Proxy User(s)" %}</button>
    {% help_icon "lookup_proxies" "account__button-icon-help" %} 
  </div>
  {% include "account/_proxyModal.html" %}
 
  <h2 class="heading_2_caps">{% trans "Change Password" %}</h2>

  {% include "includes/_inlinetext.html" with field=form.pwcurrent form_name="general__" %}
  {% include "includes/_inlinetext.html" with field=form.pwnew form_name="general__" %}
  {% include "includes/_inlinetext.html" with field=form.pwconfirm form_name="general__" %}

  <button class="button__primary account__form-submit">{% trans "Submit" %}</button>
</form>

{% include "info/popup_help.html" %}
<script type="text/javascript" src="/static/javascripts/help_box.js"></script>

{% endblock %}
